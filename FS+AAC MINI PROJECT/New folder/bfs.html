<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BFS Visualizer - Tree Graph</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; }
    nav { background:#333; padding:10px; color:white; }
    nav a { color:white; margin:0 15px; text-decoration:none; }
    .container { display:flex; }
    .sidebar { width:200px; background:#f5f5f5; height:100vh; padding:15px; position:fixed; right:0; top:0; }
    .content { flex:1; margin-right:220px; padding:20px; }
    svg { border:1px solid #ccc; background:#fafafa; }
    .node { stroke:#333; stroke-width:2; }
    .edge { stroke:#888; stroke-width:2; }
    .controls { margin-top:20px; }
    button { margin:5px; padding:5px 10px; }
    .panel { margin-top:15px; padding:10px; border:1px solid #ddd; background:white; }
    .highlight { background:yellow; }
  </style>
</head>
<body>
  <nav>
    <a href="index.html">Home</a>
    <a href="bfs.html">BFS</a>
    <a href="dfs.html">DFS</a>
  </nav>

  <div class="container">
    <div class="content">
      <h2>BFS Tree Visualization</h2>
      <svg id="graph" width="800" height="500"></svg>

      <div class="controls">
        <button onclick="prevStep()">Prev</button>
        <button onclick="nextStep()">Next</button>
        <button onclick="reset()">Reset</button>
      </div>

      <div class="panel">
        <h3>Queue</h3>
        <div id="queue"></div>
      </div>

      <div class="panel">
        <h3>Visited</h3>
        <div id="visited"></div>
      </div>
    </div>

    <div class="sidebar">
      <h3>BFS</h3>
      <a href="#">What is BFS?</a><br>
      <a href="#">Visualize It</a><br>
      <a href="#">Applications</a>
    </div>
  </div>

  <script>
    const svg = document.getElementById("graph");

    // Fixed coordinates for 10-node tree
    const positions = {
      1:[400,50],
      2:[250,150], 3:[400,150], 4:[550,150],
      5:[200,250], 6:[300,250], 7:[600,250],
      8:[150,350], 9:[250,350], 10:[550,350]
    };

    // Tree edges
    const edges = [
      [1,2],[1,3],[1,4],
      [2,5],[2,6],
      [4,7],
      [5,8],[5,9],
      [7,10]
    ];

    // Draw edges
    edges.forEach(([u,v])=>{
      const [x1,y1] = positions[u];
      const [x2,y2] = positions[v];
      const line = document.createElementNS("http://www.w3.org/2000/svg","line");
      line.setAttribute("x1",x1);
      line.setAttribute("y1",y1);
      line.setAttribute("x2",x2);
      line.setAttribute("y2",y2);
      line.setAttribute("class","edge");
      svg.appendChild(line);
    });

    // Draw nodes
    const nodes = {};
    for(let i=1;i<=10;i++){
      const [x,y]=positions[i];
      const circle=document.createElementNS("http://www.w3.org/2000/svg","circle");
      circle.setAttribute("cx",x);
      circle.setAttribute("cy",y);
      circle.setAttribute("r",20);
      circle.setAttribute("fill","white");
      circle.setAttribute("class","node");
      svg.appendChild(circle);

      const text=document.createElementNS("http://www.w3.org/2000/svg","text");
      text.setAttribute("x",x);
      text.setAttribute("y",y+5);
      text.setAttribute("text-anchor","middle");
      text.textContent=i;
      svg.appendChild(text);

      nodes[i]=circle;
    }

    // BFS logic
    const adj={
      1:[2,3,4],
      2:[5,6],
      3:[],
      4:[7],
      5:[8,9],
      6:[],
      7:[10],
      8:[],9:[],10:[]
    };

    let steps=[];
    function bfsSteps(start){
      let q=[start];
      let vis=new Set([start]);
      steps.push({queue:[...q],visited:[...vis],current:null});
      while(q.length){
        let u=q.shift();
        steps.push({queue:[...q],visited:[...vis],current:u});
        for(let v of adj[u]){
          if(!vis.has(v)){
            vis.add(v);
            q.push(v);
            steps.push({queue:[...q],visited:[...vis],current:u});
          }
        }
      }
    }
    bfsSteps(1);

    let idx=0;
    function render(){
      // reset all nodes
      for(let i=1;i<=10;i++) nodes[i].setAttribute("fill","white");
      let st=steps[idx];
      document.getElementById("queue").textContent=st.queue.join(", ");
      document.getElementById("visited").textContent=st.visited.join(", ");
      if(st.current!==null){
        nodes[st.current].setAttribute("fill","orange");
      }
      st.visited.forEach(v=>nodes[v].setAttribute("fill","lightgreen"));
      st.queue.forEach(v=>nodes[v].setAttribute("fill","lightblue"));
    }

    function nextStep(){ if(idx<steps.length-1){ idx++; render(); } }
    function prevStep(){ if(idx>0){ idx--; render(); } }
    function reset(){ idx=0; render(); }

    render();
  </script>
</body>
</html>
